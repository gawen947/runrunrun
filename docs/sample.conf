# Match files by extension.
# Note: %s is automatically appended if omitted.
*.pdf qpdf %s
*.jpg feh %s
*.odt libreoffice

# Match URI schemes
https://* firefox

# Patterns aren't limited to extensions - each rule matches input (left) to action (right).
# Examples:
#  - Match anything starting with "aaa"
#  - Match exactly "bbb"
# Actions can use double quotes, though it's optional.
aaa* "echo this starts with aaa"
bbb echo this is exactly bbb

# Later patterns take precedence - here leafpad overrides mousepad for .txt files.
# Important when using includes, as later patterns override earlier ones.
*.txt mousepad
*.txt leafpad

# Regular expressions start with ~ and have higher priority than glob patterns.
~\.exe$ wine
~\.jpe?g$ gimp

# Pattern matching is case-insensitive by default.
# This can be changed via command line or environment variable.
*.TIFF gimp

# Regex capture groups enable advanced matching.
# Example: Extract recipient and subject from mailto URIs.
# When %s appears in the action, automatic appending is disabled.
# Actions execute as shell commands (sh by default). The "true %s" trick 
# consumes the input without effect, letting you control where parameters go.
~mailto:([^?]+)\?subject=([^&]+) "true %s; thunderbird --compose \"to=%1,subject=%2\""

# Aliases define reusable actions for multiple patterns
[video] vlc
*.mkv [video]
\.(mp4|mpe?g)$ [video]

# Redefining an alias updates all rules using it, including previous ones.
# Here: redefining [video] means .mkv, .mp4, .mpeg, and .avi all use mplayer.
[video] mplayer
*.avi [video]

# Meta configuration starts with :
# :profile creates named rule categories for easy switching (e.g., different desktop environments).
# Default profile is "default". All following rules belong to the specified profile.
:profile newprofile

[image] geeqie
*.pdf mupdf

# Return to default profile
:profile default

# :include loads external configuration files.
# Accepts individual files or directories (loaded recursively).
:include included.conf
:include sample.d

# Note that you can use tilde and environment variables expansion.
# e.g.:
# :include ~/$SOME_VAR/myfile.conf

# :import loads a desktop file and automatically adds matching glob patterns.
# Accepts individual files or directories (loaded recursively).
# The desktop file must contain a "Desktop Entry". Rrr will read the "Exec" and "MimeTypes" attributes,
# then infer possible file extensions for each MIME type and add the corresponding glob patterns.
# Note: Many desktop files may omit "Exec" or "MimeTypes"; these files are simply skipped without raising an error.
:import test.desktop
